schema: '2.0'
stages:
  exploratory:
    cmd: python src/exploratory/exploratory.py data/small_dataset/train/ data/small_dataset/val/
      exploratory/exploratory_img/plot
    deps:
    - path: data/small_dataset/train/
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: data/small_dataset/val/
      md5: 1b713c456491aad44c92d2f36a10cfb7.dir
      size: 6178051
      nfiles: 380
    - path: src/exploratory/exploratory.py
      md5: a8211954008331bbd837280b4d96b33f
      size: 2055
    outs:
    - path: exploratory/exploratory_img/plottrain.png
      md5: c3fd45cf7146fa04680b3b6f7ca4dc10
      size: 116560
    - path: exploratory/exploratory_img/plotvalid.png
      md5: c3fd45cf7146fa04680b3b6f7ca4dc10
      size: 116560
  train:
    cmd: python src/train/train.py data/small_dataset/train/ data/small_dataset/val/
      train/model/model2.h5 train/history/history.csv
    deps:
    - path: data/small_dataset/train/
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: data/small_dataset/val/
      md5: 1b713c456491aad44c92d2f36a10cfb7.dir
      size: 6178051
      nfiles: 380
    - path: exploratory/exploratory_img/plottrain.png
      md5: c3fd45cf7146fa04680b3b6f7ca4dc10
      size: 116560
    - path: exploratory/exploratory_img/plotvalid.png
      md5: c3fd45cf7146fa04680b3b6f7ca4dc10
      size: 116560
    params:
      params.yaml:
        train.batch_size: 10
        train.learning_rate: 0.01
        train.momentum: 0.9
        train.nbr_epoch: 1
    outs:
    - path: train/history/history.csv
      md5: d57281e1d7d7e3d33e625fe6e8f14018
      size: 118
    - path: train/model/model2.h5
      md5: f34c566a44924ee1a1c5a41effcc0c0b
      size: 118983096
  evaluate:
    cmd: python src/evaluate/evaluate.py train/model/model2.h5 train/history/history.csv
      data/small_dataset/val/ evaluate/evaluate_csv/classification_report.csv data/small_dataset/train/
      evaluate/evaluate_csv/confusion_matrix.csv evaluate/evaluate_plt/confusion_matrix_img.png
      evaluate/evaluate_plt/observing_accuracy_img.png
    deps:
    - path: data/small_dataset/train
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: data/small_dataset/train/
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: data/small_dataset/val
      md5: 1b713c456491aad44c92d2f36a10cfb7.dir
      size: 6178051
      nfiles: 380
    - path: src/evaluate/evaluate.py
      md5: 19b74ebcb48f1b74dd0529f7314a2494
      size: 1322
    - path: train/history/history.csv
      md5: d57281e1d7d7e3d33e625fe6e8f14018
      size: 118
    - path: train/model/model2.h5
      md5: f34c566a44924ee1a1c5a41effcc0c0b
      size: 118983096
    outs:
    - path: evaluate/evaluate_csv/classification_report.csv
      md5: 5d01a2871477e7dbf3aaca184ed5cc46
      size: 1952
    - path: evaluate/evaluate_csv/confusion_matrix.csv
      md5: eef9a5fcb8dbabcc2718e2d90812e162
      size: 8361
    - path: evaluate/evaluate_plt/confusion_matrix_img.png
      md5: 8025b15ce6896c74f3dc4442a7cb58d8
      size: 151501
    - path: evaluate/evaluate_plt/observing_accuracy_img.png
      md5: 6e7093535fc7d62c7ef9f040c17f94d3
      size: 19237

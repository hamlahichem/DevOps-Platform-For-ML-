schema: '2.0'
stages:
  exploratory:
    cmd:
    - python   ../../src/exploratory.py  ../../data/small_dataset/train/  ../../data/small_dataset/val/   ../../ml_pipelines/plant_disease_pipeline/results/exploratory/exploratory_img/plots/
    deps:
    - path: ../../data/small_dataset/train/
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: ../../data/small_dataset/val/
      md5: 1b713c456491aad44c92d2f36a10cfb7.dir
      size: 6178051
      nfiles: 380
    - path: ../../src/exploratory.py
      md5: de1a4613d27966b13cc9c5709a0da646
      size: 2514
    outs:
    - path: ../../ml_pipelines/plant_disease_pipeline/results/exploratory/exploratory_img/plots/train.png
      md5: 9979107f671167d04df844efd6a5d439
      size: 116871
    - path: ../../ml_pipelines/plant_disease_pipeline/results/exploratory/exploratory_img/plots/valid.png
      md5: 9979107f671167d04df844efd6a5d439
      size: 116871
  train:
    cmd:
    - python   ../../src/train.py   ../../data/small_dataset/train/   ../../data/small_dataset/val/   ../../ml_pipelines/plant_disease_pipeline/results/training/model
      ../../ml_pipelines/plant_disease_pipeline/results/training/history   ../../ml_pipelines/plant_disease_pipeline/results
    deps:
    - path: ../../data/small_dataset/train/
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: ../../data/small_dataset/val/
      md5: 1b713c456491aad44c92d2f36a10cfb7.dir
      size: 6178051
      nfiles: 380
    - path: ../../src/train.py
      md5: d7b90701d73b25f2e007c9a7ed29474e
      size: 4814
    params:
      params.yaml:
        train.batch_size: 10
        train.learning_rate: 0.01
        train.momentum: 0.9
        train.nbr_epoch: 1
    outs:
    - path: ../../ml_pipelines/plant_disease_pipeline/results/run_info.json
      md5: 71f758610d31a8f4defe264e9dedf536
      size: 177
    - path: ../../ml_pipelines/plant_disease_pipeline/results/training/history/history.csv
      md5: 1062135108ce53a3480ffba9b68e7eb5
      size: 110
    - path: ../../ml_pipelines/plant_disease_pipeline/results/training/model
      md5: 994fbb7f71078caa7efdf01e5c4e507d.dir
      size: 119262140
      nfiles: 9
  evaluate:
    cmd: python ./../../src/evaluate.py ./../../results/training/keras ./../../results/training/history/history.csv
      ./../../data/small_dataset/val/ ./../../results/evaluate/evaluate_csv/classification_report.csv
      ./../../data/small_dataset/train/ ./../../results/evaluate/evaluate_csv/confusion_matrix.csv
      ./../../results/evaluate/evaluate_plt/confusion_matrix_img.png ./../../results/evaluate/evaluate_plt/observing_accuracy_img.png
      ./../../results/exploratory/exploratory_img/plots/
    deps:
    - path: ./../../data/small_dataset/train
      md5: 78a2b630a820eeb1d5edd17f0a0a2e4e.dir
      size: 6179499
      nfiles: 380
    - path: ./../../data/small_dataset/val
      md5: 1b713c456491aad44c92d2f36a10cfb7.dir
      size: 6178051
      nfiles: 380
    - path: ./../../results/training/history/history.csv
      md5: 714ae4e25f122b41b40dfb536a3ad7fa
      size: 106
    - path: ./../../results/training/keras
      md5: 6c6ab6ef7441f6c3a804dd179c5da7a3.dir
      size: 119262140
      nfiles: 9
    - path: ./../../src/evaluate.py
      md5: 9267de5d3399673132e7aa94db938488
      size: 2624
    outs:
    - path: ./../../results/evaluate/evaluate_csv/classification_report.csv
      md5: 7a9027701001867707eb2103489dd363
      size: 1952
    - path: ./../../results/evaluate/evaluate_csv/confusion_matrix.csv
      md5: 54348d6da3f80b32e3b5440eef023dcc
      size: 8361
    - path: ./../../results/evaluate/evaluate_plt/confusion_matrix_img.png
      md5: d624c57e3c0d5dc526e907c1e1830fd3
      size: 151468
    - path: ./../../results/evaluate/evaluate_plt/observing_accuracy_img.png
      md5: 6e7093535fc7d62c7ef9f040c17f94d3
      size: 19237
